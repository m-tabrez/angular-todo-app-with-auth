<app-loading *ngIf="isLoading"></app-loading>
<div class="routerOutlet">
  <div class="routerContent">
    <mat-card>
        <form (ngSubmit)="onSubmitHandler()" [formGroup]="surveyForm">
          <div class="formTitle">
            <mat-form-field class="extended-width">
                  <mat-label>Enter Survey Title</mat-label>
                  <input  
                    matInput 
                    placeholder=""
                    formControlName="title"
                  >
                  <mat-error *ngIf="!surveyForm.get('title').valid && surveyForm.get('title').touched">
                    This Field Cant be Empty, Enter Title
                  </mat-error>
              </mat-form-field>
          </div>
          <div formArrayName="quesAnsArr">
            <div *ngFor="let quesAns of getQuesAnsArr(); let i = index">
              <div [formGroupName]="i">
                <mat-form-field class="full-width-form">
                  <mat-label>Enter Your Question</mat-label>
                  <input  
                    matInput 
                    placeholder=""
                    formControlName="question"
                  >
                </mat-form-field>
                <div formArrayName="answersArr">
                  <mat-form-field *ngFor="let answer of getAnsArr(i); let j = index">
                    <mat-label>Enter Your Answers</mat-label>
                    <input  
                      matInput 
                      placeholder=""
                      [formControlName]="j"
                    >
                    </mat-form-field>
                </div>
              </div>
            </div>
            
          </div>
        </form>
    </mat-card>
  </div>
</div>
